# SMS 자동 전달 앱

갤럭시 휴대폰에서 수신된 문자 메시지를 자동으로 다른 사람에게 전달해주는 안드로이드 애플리케이션입니다.

## 📱 주요 기능

### 1. 자동 SMS 전달
- 문자 메시지가 도착하면 자동으로 설정된 수신자에게 전달
- 원본 발신자 번호와 메시지 내용을 함께 전달
- 긴 메시지 자동 분할 처리

### 2. 수신자 관리
- 여러 명의 수신자 등록 가능
- 수신자 추가/삭제 기능
- 전화번호 형식으로 저장

### 3. 키워드 필터링
- 특정 키워드가 포함된 메시지만 전달 가능
- 여러 키워드 등록 지원
- 키워드 없이 모든 메시지 전달도 가능

### 4. 추가 메시지 설정
- 전달되는 메시지에 사용자 정의 텍스트 추가
- 발신자 정보와 함께 표시

### 5. 설정 관리
- 간편한 ON/OFF 스위치
- 모든 설정 초기화 기능
- SharedPreferences를 통한 영구 저장

## 🛠️ 기술 스택

- **언어**: Kotlin
- **최소 SDK**: Android 7.0 (API 24)
- **타겟 SDK**: Android 14 (API 34)
- **아키텍처**: 
  - BroadcastReceiver (SMS 수신 감지)
  - SharedPreferences (설정 저장)
  - SmsManager (SMS 전송)

## 📋 필요 권한

앱 실행을 위해 다음 권한이 필요합니다:

- `RECEIVE_SMS`: 문자 메시지 수신 감지
- `SEND_SMS`: 문자 메시지 전송
- `READ_SMS`: 문자 메시지 읽기
- `READ_CONTACTS`: 연락처 읽기 (선택사항)

## 📂 프로젝트 구조

```
SMS/
├── app/
│   ├── src/
│   │   └── main/
│   │       ├── java/com/smsforwarder/
│   │       │   ├── MainActivity.kt          # 메인 화면 및 설정 UI
│   │       │   ├── SmsReceiver.kt           # SMS 수신 BroadcastReceiver
│   │       │   ├── SmsForwarder.kt          # SMS 전송 로직
│   │       │   └── PreferenceManager.kt     # 설정 데이터 관리
│   │       ├── res/
│   │       │   ├── layout/
│   │       │   │   └── activity_main.xml    # 메인 화면 레이아웃
│   │       │   └── values/
│   │       │       ├── strings.xml
│   │       │       └── themes.xml
│   │       └── AndroidManifest.xml
│   └── build.gradle
├── build.gradle
└── settings.gradle
```

## 🚀 설치 및 실행

### 1. 프로젝트 빌드

Android Studio에서 프로젝트를 열고 빌드합니다:

```bash
# 프로젝트 디렉토리로 이동
cd /root/SMS

# Gradle 빌드
./gradlew build
```

### 2. APK 설치

빌드가 완료되면 생성된 APK 파일을 기기에 설치합니다:

```bash
./gradlew installDebug
```

또는 Android Studio의 Run 버튼을 클릭하여 직접 실행합니다.

## 📖 사용 방법

### 초기 설정

1. **앱 실행 및 권한 허용**
   - 앱을 실행하면 필요한 권한을 요청합니다
   - 모든 권한을 허용해야 정상 작동합니다

2. **자동 전달 활성화**
   - 화면 상단의 "자동 전달" 스위치를 켭니다

3. **수신자 추가**
   - "수신자 추가" 버튼을 클릭
   - 전화번호를 입력 (예: 010-1234-5678)
   - 여러 명의 수신자를 추가할 수 있습니다

4. **키워드 설정 (선택사항)**
   - 특정 키워드가 포함된 메시지만 전달하려면 키워드를 추가합니다
   - 예: "인증번호", "OTP", "확인코드" 등
   - 키워드가 없으면 모든 메시지가 전달됩니다

5. **추가 메시지 입력 (선택사항)**
   - 전달되는 메시지 앞에 추가될 내용을 입력합니다
   - 예: "[자동전달] 다음 메시지를 확인하세요"

### 사용 예시

#### 예시 1: 모든 문자 전달

**설정:**
- 수신자: 010-1234-5678
- 키워드: 없음
- 추가 메시지: "[자동전달]"

**원본 메시지:**
```
발신자: 010-9999-8888
내용: 안녕하세요. 테스트 메시지입니다.
```

**전달되는 메시지:**
```
[자동전달]

[발신자: 010-9999-8888]
안녕하세요. 테스트 메시지입니다.
```

#### 예시 2: 키워드 필터링

**설정:**
- 수신자: 010-1234-5678
- 키워드: "인증번호"
- 추가 메시지: "인증번호가 도착했습니다"

**원본 메시지 1 (전달됨):**
```
발신자: 1234
내용: [Web발신] 인증번호는 123456입니다.
```

**전달되는 메시지:**
```
인증번호가 도착했습니다

[발신자: 1234]
[Web발신] 인증번호는 123456입니다.
```

**원본 메시지 2 (전달 안됨):**
```
발신자: 010-5555-6666
내용: 오늘 저녁 뭐 먹을까?
```
→ "인증번호" 키워드가 없어서 전달되지 않습니다.

## ⚙️ 주요 클래스 설명

### MainActivity.kt
- 앱의 메인 화면을 담당
- 수신자, 키워드, 추가 메시지 설정
- 권한 요청 및 관리

### SmsReceiver.kt
- BroadcastReceiver를 상속받아 SMS 수신을 감지
- 수신된 메시지를 파싱하여 조건 확인
- 조건에 맞으면 SmsForwarder를 호출

### SmsForwarder.kt
- SMS 전송 로직을 담당
- 여러 수신자에게 메시지 전달
- 긴 메시지 자동 분할 처리

### PreferenceManager.kt
- SharedPreferences를 사용한 설정 관리
- 싱글톤 패턴으로 구현
- 수신자, 키워드, 추가 메시지 등 저장/조회

## ⚠️ 주의사항

1. **배터리 최적화**
   - 백그라운드에서 SMS를 수신하려면 배터리 최적화에서 앱을 제외해야 할 수 있습니다
   - 설정 > 배터리 > 배터리 최적화 > 앱 선택 > 최적화 안함

2. **기본 문자 앱**
   - 일부 기기에서는 기본 문자 앱 설정이 필요할 수 있습니다

3. **데이터 요금**
   - SMS 전송 시 문자 요금이 발생할 수 있습니다

4. **개인정보 보호**
   - 타인의 문자 메시지를 전달하는 것은 개인정보 침해가 될 수 있으니 주의하세요
   - 본인의 동의 하에만 사용하세요

5. **안드로이드 버전**
   - Android 7.0 (API 24) 이상에서만 작동합니다
   - 일부 제조사별 커스텀 ROM에서는 추가 설정이 필요할 수 있습니다

## 🐛 문제 해결

### 문자가 전달되지 않는 경우

1. **권한 확인**
   - 설정 > 앱 > SMS 자동 전달 > 권한
   - SMS 관련 모든 권한이 허용되어 있는지 확인

2. **자동 전달 스위치 확인**
   - 앱에서 자동 전달이 켜져 있는지 확인

3. **수신자 확인**
   - 최소 1명 이상의 수신자가 등록되어 있는지 확인

4. **키워드 확인**
   - 키워드를 설정한 경우, 메시지에 해당 키워드가 포함되어 있는지 확인

5. **로그 확인**
   - Android Studio의 Logcat에서 "SmsReceiver" 태그로 로그 확인

## 📝 라이선스

이 프로젝트는 교육 및 개인 용도로 자유롭게 사용할 수 있습니다.

## 👨‍💻 개발자

GitHub Copilot을 활용한 안드로이드 앱 개발 프로젝트

## 📞 문의

문제가 발생하거나 개선 사항이 있으면 이슈를 등록해주세요.

---

**⚡ 빠른 시작 체크리스트**

- [ ] Android Studio에서 프로젝트 열기
- [ ] Gradle 동기화
- [ ] 기기 또는 에뮬레이터에 앱 설치
- [ ] 권한 허용
- [ ] 자동 전달 스위치 켜기
- [ ] 수신자 추가
- [ ] 테스트 문자 받아보기

즐거운 개발 되세요! 🚀
